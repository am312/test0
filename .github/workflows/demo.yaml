name: demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: 
  release:
    types: [published]

jobs:
  set-version-variable:
    runs-on: ubuntu-latest
    env:
      TAG_NAME: ${{ github.event.release.tag_name }}
    steps:
      - name: Strip leading 'v' from tag, if present
        run: echo "VERSION=$(echo ${TAG_NAME/#v/})" >> $GITHUB_ENV
  job-one:
    runs-on: ubuntu-latest
    needs: set-version-variable
    steps:
      - run: echo "tagname $TAG_NAME"
      - run: echo "ver $VERSION"
      - run: echo "ver2 $VERSION2"
      - run: echo "ref_name $REF"
      - run: echo "0 ${{ github.event.release.tag_name }}"
      - run: echo "envi ${{ env.VERSION }}"
  job-two:
    runs-on: ubuntu-latest
    needs: set-version-variable
    steps:
      - run: echo "tagname $TAG_NAME"
      - run: echo "ver $VERSION"
      - run: echo "ver2 $VERSION2"
      - run: echo "ref_name $REF"
      - run: echo "0 ${{ github.event.release.tag_name }}"
      - run: echo "envi ${{ env.VERSION }}"



